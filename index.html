<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau Embedded Dashboard</title>
    <script type="module" src="https://prod-apsoutheast-a.online.tableau.com/javascripts/api/tableau.embedding.3.latest.min.js"></script>
</head>
<body>
    <h2>Tableau Embedded Dashboard</h2>

    <tableau-viz 
        id="tableauViz"
        src="https://prod-apsoutheast-a.online.tableau.com/t/forsightanalytics-c7b8da01a7/views/EmailPerformancebyCampaign/EmailPerformancebyCampaign"
        width="1200"
        height="840"
        hide-tabs
        toolbar="bottom"
        iframe-auth
        connected-app-id="092af284-53ca-4093-a10d-2110ad665b13">
    </tableau-viz>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const tableauViz = document.getElementById('tableauViz');
        
        console.log("üöÄ Attempting to load Tableau Viz...");

        tableauViz.addEventListener("vizLoadError", (e) => {
            console.error("‚ùå Tableau Viz Load Error:", e.detail);
            e.target.iframeAuth = true;  // Attempt to force iframe authentication
        });

        tableauViz.addEventListener("firstInteractive", function() {
            console.log("‚úÖ Tableau Viz Loaded Successfully!");
        });
    });
    </script>

</body>
</html>
